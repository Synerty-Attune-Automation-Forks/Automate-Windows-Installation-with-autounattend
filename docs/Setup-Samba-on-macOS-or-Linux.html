
<!doctype html>
<html lang="en">




<head>
    <title>How to Setup Samba on macOS or Linux - Attune Automation</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="title"
          content="How to Setup Samba on macOS or Linux - Attune Automation">
    <meta name="description"
          content="Sets up a Samba server with the folder at 
`{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe`.

This Samba Share on Linux is required to host the Windows OS files 
making them accessible over the network.

For uploading specific Windows distributions to the Samba Share, see 
`Deploy a">
    <meta name="robots"
          content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large">

    <meta property="og:locale" content="en_AU" />
    <meta property="og:type" content="article" />
    <meta property="og:title"
          content="HowTo Setup Samba on macOS or Linux - Attune Automation" />
    <meta property="og:description" content="Sets up a Samba server with the folder at 
`{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe`.

This Samba Share on Linux is required to host the Windows OS files 
making them accessible over the network.

For uploading specific Windows distributions to the Samba Share, see 
`Deploy a" />
    <meta property="og:site_name" content="Attune Automation" />
    <meta property="article:section" content="IT Instruction" />

    <meta name="twitter:title"
          content="How to Setup Samba on macOS or Linux - Attune Automation" />
    <meta name="twitter:description" content="Sets up a Samba server with the folder at 
`{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe`.

This Samba Share on Linux is required to host the Windows OS files 
making them accessible over the network.

For uploading specific Windows distributions to the Samba Share, see 
`Deploy a" />

    <link rel="icon" href="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-32x32.png" sizes="32x32">
    <link rel="icon" href="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-192x192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-180x180.png">
    <meta name="msapplication-TileImage" content="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-270x270.png">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="styles/style.css">

    <!-- Google tag (gtag.js) -->
    <script async
            src="https://www.googletagmanager.com/gtag/js?id=G-5TZQZNDJCD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-5TZQZNDJCD');
    </script>
</head>


<body>

<!-- Project NavBar -->

<div class="bg-white border-bottom box-shadow sticky-top mb-3">
<div class="container px-0">
    <div class="row px-0">
        <div class="col d-flex flex-column flex-lg-row align-items-center px-0
            py-3">
            <a class="navbar-brand my-0 mr-lg-auto"
                  href="https://www.servertribe.com/"
                  target="_blank">
                    <img
                        src="https://www.servertribe.com/wp-content/uploads/2022/06/AttuneLogoV2_powered_by.png"
                        alt="Attune - Powered by ServerTribe"
                        class="img-fluid navbar-img">
            </a>
            <nav class="my-2 my-lg-0 mr-lg-3">
                <a class="p-2 text-dark" href="http://doc.servertribe.com/"
                   target="_blank">
                    Documentation
                </a>
                <a class="p-2 text-dark"
                   href="https://discord.com/invite/3YpJsagqUn"
                   target="_blank">
                    Discord
                </a>
                <a class="p-2 text-dark" href="https://github.com/Attune-Automation"
                   target="_blank">
                    GitHub
                </a>
                <a class="p-2 text-dark" href="https://www.servertribe.com/learn/"
                   target="_blank">
                    Learn
                </a>
            </nav>
            <a class="btn btn-outline-primary"
               href="https://www.servertribe.com/download-attune-registration/"
               target="_blank">
                Download NOW!
            </a>
        </div>
    </div>
</div></div>

<!-- Project breadcrumbs -->

<!-- Project breadcrumbs -->
<div class="container px-0">
    <div class="row">
        <nav class="col px-0" aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="index.html">
                    Automate Windows Installation with autounattend
                    </a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    <strong>Setup Samba on macOS or Linux</strong>
                </li>
            </ol>
        </nav>
    </div>
</div>

<!-- Blueprint Header -->

<div class="container px-0">
    <!-- Blueprint name and description -->
    <div class="row">
        <div class="col px-0">
            <h1 class="text-left">
                How to Setup Samba on macOS or Linux
            </h1>
        </div>
    </div>

<!-- Blueprint Description -->
    <div class="row">
        <div class="description col px-0">
            <p class="text-left">
                <p>Sets up a Samba server with the folder at 
<code>{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe</code>.</p>
<p>This Samba Share on Linux is required to host the Windows OS files 
making them accessible over the network.</p>
<p>For uploading specific Windows distributions to the Samba Share, see 
<code>Deploy and extract {os_name} ISO for Samba Share</code> Blueprints in 
this Project.</p>
            </p>
        </div>
    </div>
    <div class="row pt-4">
        <div class="col-6 px-0">
            <h6 class="text-left">
                This documentation is generated by
                <a href="https://www.servertribe.com/"
                    class="badge badge-primary"
                    target="_blank">
                    Attune
                </a>
            </h6>
        </div>
        <div class="col-6 align-self-end text-right px-0">
            <h6 class="text-right">
                <a href="https://www.youtube.com/@servertribe"
                    class="badge badge-secondary"
                    target="_blank">
                    YouTube
                </a>
                <a href="https://github.com/Attune-Automation"
                    class="badge badge-secondary"
                    target="_blank">
                    GitHub
                </a>
                <a href="https://discord.com/invite/3YpJsagqUn"
                    class="badge badge-secondary"
                    target="_blank">
                    Discord
                </a>
                <a href="https://www.linkedin.com/company/servertribe/"
                    class="badge badge-secondary"
                    target="_blank">
                    LinkedIn
                </a>
                <a href="http://doc.servertribe.com/"
                    class="badge badge-secondary"
                    target="_blank">
                    Documentation
                </a>
            </h6>
        </div>
    </div>
    <hr>
</div>

<div class="documentation">
    <div class="container px-0">
        <div class="row">

<!-- Blueprint ToC -->


            <div class="toc col-lg-2 px-0 pr-5">
                <div class="container px-0 pt-3">
                    <p class="pb-2">
                        <strong>Contents</strong>
                    </p>
                    <p class="text-muted">
                        <a href="#top">
                            <strong>Setup Samba on macOS or Linux</strong>
                        </a>
                    </p>


    
        

                    <p class="text-muted pt-2">
                        <a href="#installsambaonlinux">
                            <strong>Step 1 -</strong> Install Samba on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#setupsharedfolderonlinux">
                            <strong>Step 2 -</strong> Setup Shared Folder on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#configureselinuxsecuritycontextonlinux">
                            <strong>Step 3 -</strong> Configure SELinux Security Context on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#setupsmbconfonlinux">
                            <strong>Step 4 -</strong> Setup smb.conf on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#checksmbconfonlinux">
                            <strong>Step 5 -</strong> Check smb.conf on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#setupfirewallforsambaonlinux">
                            <strong>Step 6 -</strong> Setup Firewall for Samba on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#installprerequisitesonlinux">
                            <strong>Step 7 -</strong> Install Prerequisites on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#setupselinuxforsambaonlinux">
                            <strong>Step 8 -</strong> Setup SELinux for Samba on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#checkselinuxforsambaonlinux">
                            <strong>Step 9 -</strong> Check SELinux for Samba on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#startsmbonlinux">
                            <strong>Step 10 -</strong> Start smb on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#checkservicesmbonlinux">
                            <strong>Step 11 -</strong> Check Service smb on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#startservicenmbonlinux">
                            <strong>Step 12 -</strong> Start Service nmb on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#checkservicenmbonlinux">
                            <strong>Step 13 -</strong> Check Service nmb on Linux
                        </a>
                    </p>

        

                    <p class="text-muted pt-2">
                        <a href="#setlinuxhomefolderpermissionsforsamba">
                            <strong>Step 14 -</strong> Set Linux Home Folder Permissions for Samba
                        </a>
                    </p>


                </div>
            </div>

<!-- Blueprint Contents -->
            <div class="col-lg-8 pt-3">
                <div class="container">


        <div class="jumbotron">
            <p class="display-3 text-center">
                <strong>Automate This</strong>
            </p>
            <p class="lead text-center">
                Use the <strong>Attune GUI</strong> for your Scripts
            </p>
            <p class="lead">
                <ol>
                    <a href="https://www.servertribe.com/download-attune-registration/"
                        target="_blank">
                        <span class="badge badge-primary">1</span>
                        Download Attune
                        <i class="fa-solid fa-download fa-beat-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://github.com/attune-Automation/"
                        target="_blank">
                        <span class="badge badge-primary">2</span>
                         Copy the Attune Project URL
                         <i class="fa-brands fa-github fa-fade"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://servertribe-attune.readthedocs.io/en/latest/howto/design_workspace/clone_project.html"
                        target="_blank">
                        <span class="badge badge-primary">3</span>
                        Clone the Project in Attune
                         <i class="fa-solid fa-book fa-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://www.youtube.com/watch?v=GCWDI29rDV0"
                        target="_blank">
                        <span class="badge badge-primary">4</span>
                        Plan your Job(s)
                        <i class="fa-brands fa-youtube fa-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://www.youtube.com/watch?v=b7DhFcURkZg"
                        target="_blank">
                        <span class="badge badge-primary">5</span>
                        Run your Job(s)
                        <i class="fa-brands fa-youtube fa-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
            </p>
            <p class="lead text-center">
                You've automated: <strong>Setup Samba on macOS or Linux</strong>
            </p>
            <hr class="my-4 text-center">
            <div class="col px-0">
                <p class="text-center">
                    Get the most out of automation with our get started
                    videos, product demonstrations, and more.
                </p>
                <p class="lead text-center">
                    <a class="btn btn-primary btn-lg"
                       href="https://www.servertribe.com/learn/"
                       target="_blank"
                       role="button">
                        Learn Attune Automation
                    </a>
                </p>
            </div>
        </div>

        <div class="row">
            <p>The following steps will guide you through the manual process.</p>
        </div>

<!-- Blueprint Steps -->


        



                    <div class="row pt-5">
                        <h3 id="installsambaonlinux">
                            <a href="#installsambaonlinux">
                                <strong>Step 1 -</strong> Install Samba on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Install packages required for Samba.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuserroot}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]]
then

    dnf -y install samba samba-common samba-client

elif [[ -f /etc/debian_version ]]
then

    apt -y install samba samba-common samba-client
    
elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    brew install samba

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="setupsharedfolderonlinux">
                            <a href="#setupsharedfolderonlinux">
                                <strong>Step 2 -</strong> Setup Shared Folder on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                
                            </p>
                        </div>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
shared_dir=&quot;{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe&quot;

USER=&quot;{automationWorkerLinuxUser.user}&quot;
GROUP=&quot;$(id -gn $USER)&quot;
echo &quot;User: $USER, Group: $GROUP&quot;

mkdir -p $shared_dir
chmod -R 0775 $shared_dir
chown -R nobody:$GROUP $shared_dir
ls -lrh $shared_dir
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="configureselinuxsecuritycontextonlinux">
                            <a href="#configureselinuxsecuritycontextonlinux">
                                <strong>Step 3 -</strong> Configure SELinux Security Context on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                
                            </p>
                        </div>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
shared_dir=&quot;{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe&quot;

if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]]
then

    chcon -R -t samba_share_t $shared_dir
    
elif [[ -f /etc/debian_version ]]
then

    echo &quot;This is Debian, Nothing to do!&quot;
    
elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    echo &quot;This is macOS, Nothing to do!&quot;

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="setupsmbconfonlinux">
                            <a href="#setupsmbconfonlinux">
                                <strong>Step 4 -</strong> Setup smb.conf on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Populate <code>/etc/samba/smb.conf</code>.</p>
                            </p>
                        </div>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]] || [[ -f /etc/debian_version ]]
then

    cd /etc/samba/

elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    cd /usr/local/etc/

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi

cat &lt;&lt; EOF &gt; smb.conf
# See smb.conf.example for a more detailed config file or
# read the smb.conf manpage.
# Run &#x27;testparm&#x27; to verify the config is correct after
# you modified it.

[global]
	workgroup = WORKGROUP
	security = user
	passdb backend = tdbsam
	map to guest = bad user

[share]
        comment = public share
        path = {automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe
        browseable = yes
        guest ok = yes
        guest only = yes
        writable = yes
        read only = no
EOF

cat smb.conf
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="checksmbconfonlinux">
                            <a href="#checksmbconfonlinux">
                                <strong>Step 5 -</strong> Check smb.conf on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuser}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
testparm --suppress-prompt
exit $?
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="setupfirewallforsambaonlinux">
                            <a href="#setupfirewallforsambaonlinux">
                                <strong>Step 6 -</strong> Setup Firewall for Samba on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Open up firewall rules for Samba.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuserroot}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]]
then

    firewall-cmd --add-service=samba --zone=public --permanent
    firewall-cmd --reload
    
elif [[ -f /etc/debian_version ]]
then

    echo &quot;This is Debian, Nothing to do!&quot;
    
elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    echo &quot;This is macOS, Nothing to do!&quot;

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="installprerequisitesonlinux">
                            <a href="#installprerequisitesonlinux">
                                <strong>Step 7 -</strong> Install Prerequisites on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Installs packages required by Samba.</p>
                            </p>
                        </div>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]]
then

    dnf -y install \
        policycoreutils-python-utils \
        fuse3-devel \
        fuse3-libs \
        epel-release \
        p7zip p7zip-plugins

elif [[ -f /etc/debian_version ]]
then

    apt-get -y install \
        policycoreutils \
        libfuse3-dev \
        fuse3 \
        p7zip-full p7zip-rar

elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    brew install osxfuse p7zip

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="setupselinuxforsambaonlinux">
                            <a href="#setupselinuxforsambaonlinux">
                                <strong>Step 8 -</strong> Setup SELinux for Samba on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Sets up SELinux for Samba.</p>
                            </p>
                        </div>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]]
then

    if sestatus | grep -i &quot;SELinux status:&quot; | grep -q &quot;enabled&quot;
    then
        setsebool -P samba_export_all_ro=1 samba_export_all_rw=1
        semanage fcontext -at samba_share_t &quot;{automationWorkerLinuxBaseDirectory}/windows_iso_data_for_winpe(/.*)?&quot;
    else
        echo &quot;SElinux is disabled&quot;
    fi
    
elif [[ -f /etc/debian_version ]]
then

    echo &quot;This is Debian, Nothing to do!&quot;
    
elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    echo &quot;This is macOS, Nothing to do!&quot;

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="checkselinuxforsambaonlinux">
                            <a href="#checkselinuxforsambaonlinux">
                                <strong>Step 9 -</strong> Check SELinux for Samba on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Checks if SELinux is set up correctly for Samba.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuser}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
if [[ -f /etc/redhat-release ]] || [[ -f /etc/lsb-release ]]
then

    if sestatus | grep -i &quot;SELinux status:&quot; | grep -q &quot;enabled&quot;
    then
        line_count=$(getsebool -a | grep samba_export | wc -l)
        
        if [ $line_count -eq 2 ]
        then
            echo &quot;ok&quot;
        else
            echo &quot;wrong number of occurrences for samba_export&quot;
            exit 1
        fi
    else
        echo &quot;SElinux is disabled&quot;
    fi
    
elif [[ -f /etc/debian_version ]]
then

    echo &quot;This is Debian, Nothing to do!&quot;
    
elif [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]
then

    echo &quot;This is macOS, Nothing to do!&quot;

else
    
    echo &quot;Unsupported operating system.&quot;
    exit 1
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="startsmbonlinux">
                            <a href="#startsmbonlinux">
                                <strong>Step 10 -</strong> Start smb on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Starts <code>smb</code> service.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuserroot}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
systemctl restart smb
systemctl enable smb
systemctl status smb
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="checkservicesmbonlinux">
                            <a href="#checkservicesmbonlinux">
                                <strong>Step 11 -</strong> Check Service smb on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Checks if the <code>smb</code> service is running.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuser}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
service=&quot;smb&quot;
line_count=$(systemctl status $service | grep running | wc -l)
if [ $line_count -eq 0 ]
then
    echo &quot;$service is not running&quot;
    exit 1
else
    echo &quot;ok&quot;
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="startservicenmbonlinux">
                            <a href="#startservicenmbonlinux">
                                <strong>Step 12 -</strong> Start Service nmb on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Starts <code>nmb</code> service.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuserroot}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
systemctl restart nmb
systemctl enable nmb
systemctl status nmb
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="checkservicenmbonlinux">
                            <a href="#checkservicenmbonlinux">
                                <strong>Step 13 -</strong> Check Service nmb on Linux
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Checks if <code>nmb</code> service is running.</p>
                            </p>
                        </div>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {automationworkerlinuxuser}@{automationworkerlinuxnode}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
service=&quot;nmb&quot;
line_count=$(systemctl status $service | grep running | wc -l)
if [ $line_count -eq 0 ]
then
    echo &quot;$service is not running&quot;
    exit 1
else
    echo &quot;ok&quot;
fi
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h3 id="setlinuxhomefolderpermissionsforsamba">
                            <a href="#setlinuxhomefolderpermissionsforsamba">
                                <strong>Step 14 -</strong> Set Linux Home Folder Permissions for Samba
                            </a>
                        </h3>
                    </div>

                    <div class="row">
                        <div class="description col px-0">
                            <p>
                                <p>Sets the permissions of the home folder.</p>
                            </p>
                        </div>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
chmod -v +rx $HOME
                </code>
            </pre>
        </div>
    </div>






                    <div class="row pt-5">
                        <div class="col">
                            <h2>Completed</h2>
                            <p>
                                You have completed this instruction.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

<!-- Download Attune Ad -->

            <div class="toc col-lg-2 px-0">
                <div class="container px-0 pt-3 pl-5">
                    <div class="card border-light mb-3" style="max-width: 18rem;">
                        <div class="card-body attune-ad">
                            <img
                                src="https://www.servertribe.com/wp-content/uploads/2022/06/AttuneLogoV2_powered_by.png"
                                alt="Attune - Powered by ServerTribe"
                                class="img-fluid">
                            <p class="card-title mt-3 text-center">
                                <strong>Automate with Attune</strong>
                            </p>
                            <p class="card-text text-center">
                                Download the Attune Community Edition.
                            </p>
                            <p class="text-center">
                                <a href="https://www.servertribe.com/download-attune-registration/"
                                   class="btn btn-primary mt-3">
                                    DOWNLOAD!!!
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>

<!-- Join Discord -->

        <div class="row py-5">
            <div class="jumbotron">
              <h1 class="display-4 text-center">
                  Discuss this Project in Discord
              </h1>
              <p class="lead">

                  Join our Discord channel and connect with like-minded individuals who
                  share your passion. Engage in lively discussions, gain valuable insights,
                  and stay updated on the latest trends in our industry. Don't miss out on
                  this opportunity to network, learn, and grow together.
              </p>
              <hr class="my-4 text-center">
                <div class="col px-0">
                  <p class="text-center">
                      Click the link below and become a part of our vibrant community on
                      Discord today!
                  </p>
                  <p class="lead text-center">
                    <a class="btn btn-primary btn-lg"
                       href="https://discord.com/invite/3YpJsagqUn"
                       role="button">
                        Join NOW!!!
                    </a>
                  </p>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Project Footer -->

<footer class="footer fixed-bottom bg-white border-top box-shadow">
      <div class="container px-0">
          <div class="row">
              <div class="col px-0">
                  <a class="my-0 mr-lg-auto"
                     href="https://www.servertribe.com/"
                     target="_blank">
                      <img
                          src="https://www.servertribe.com/wp-content/uploads/2022/06/AttuneLogoV2_powered_by.png"
                          alt="Attune - Powered by ServerTribe"
                          class="img-fluid navbar-img">
                  </a>
              </div>
          </div>
      </div>
</footer>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

<script
    src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

<script
    src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
<script
    src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>


</body>
</html>
